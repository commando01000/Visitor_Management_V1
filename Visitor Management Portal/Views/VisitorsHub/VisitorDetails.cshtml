@model Visitor_Management_Portal.ViewModels.VisitorsHub.VisitorVM
@{
    ViewBag.Title = "Visitors Hub";
}

@using Visitor_Management_Portal.ViewModels.VisitorsHub;

<link rel="stylesheet" href="~/Content/VisitorsHub/VisitorDetails/VisitorDetails.css">

<div class="section-container d-flex flex-column gap-4">
    <top>
        <a class="  navigation-btn" onclick="stepBack('/VisitorsHub')">Visitors Hub ></a>
        <a class="navigation-btn ">Visitor Details</a>
    </top>

    <div class="box-container">

        <div class="row">

            @*Left Side*@
            <div class="col-lg-3 col-12 lef-side">
                <div class="left">

                    <!-- Profile Section -->
                    <div class="profile-detials d-flex align-items-center gap-3 border-0 opacity-75">
                        <img src="~/Content/Images/DashboardLayout/DefualtProfilePic.svg" alt="Profile" width="40" height="40" class="profile-pic opacity-50" />
                        <div class="profile-info">
                            <div class="name fs-6 fw-semibold">@Model.FullName</div>
                        </div>
                    </div>

                    <div class="label-boxes d-flex flex-column gap-3 p-2 mt-4">

                        <div class="left-side-box left-lable">
                            <p class="p-0 m-0 fw-semibold">Personal data</p>
                            <a href="@Url.Action("EditVisitor", "VisitorsHub", new { id = Model.Id })" class="p-0 m-0 edit-data text-decoration-none fw-semibold">Edit</a>
                        </div>


                        <div class="left-side-box left-lable ">
                            <p class="p-0 m-0 d-flex align-items-center justify-content-center gap-2">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
                                    <g id="job" transform="translate(-1.75 -1.75)">
                                        <path id="Path_40797" data-name="Path 40797" d="M5.25,11.835a.585.585,0,0,1,.585-.585H15.2a.585.585,0,0,1,0,1.171H5.835A.585.585,0,0,1,5.25,11.835Zm.585,2.927a.585.585,0,1,0,0,1.171h9.756a.585.585,0,0,0,0-1.171Z" transform="translate(-0.768 -2.085)" fill="#2f2f2f" />
                                        <path id="Path_40798" data-name="Path 40798" d="M6.441,4.091a16.7,16.7,0,0,0-2.07.091,2.9,2.9,0,0,0-1.764.766,2.9,2.9,0,0,0-.766,1.764,21.327,21.327,0,0,0-.091,2.6v3.208a21.327,21.327,0,0,0,.091,2.6,2.9,2.9,0,0,0,.766,1.764,2.906,2.906,0,0,0,1.764.766,21.51,21.51,0,0,0,2.6.091h5.549a21.51,21.51,0,0,0,2.6-.091,2.906,2.906,0,0,0,1.764-.766,2.906,2.906,0,0,0,.766-1.764,21.51,21.51,0,0,0,.091-2.6V9.317a21.51,21.51,0,0,0-.091-2.6,2.906,2.906,0,0,0-.766-1.764,2.9,2.9,0,0,0-1.764-.766,16.562,16.562,0,0,0-2.069-.091A2.537,2.537,0,0,0,10.53,1.75H8.97A2.537,2.537,0,0,0,6.441,4.091Zm1.177,0h4.265A1.366,1.366,0,0,0,10.53,2.921H8.97A1.366,1.366,0,0,0,7.618,4.091ZM3.435,16.065a1.76,1.76,0,0,0,1.093.434,21.047,21.047,0,0,0,2.491.08h5.463a21.076,21.076,0,0,0,2.491-.08,1.764,1.764,0,0,0,1.092-.434,1.76,1.76,0,0,0,.434-1.093,21.054,21.054,0,0,0,.08-2.491V9.36a21.069,21.069,0,0,0-.08-2.491,1.764,1.764,0,0,0-.434-1.092,1.76,1.76,0,0,0-1.093-.434,21.054,21.054,0,0,0-2.491-.08H7.018a21.069,21.069,0,0,0-2.491.08,1.764,1.764,0,0,0-1.092.434A1.76,1.76,0,0,0,3,6.869a21.047,21.047,0,0,0-.08,2.491v3.122A21.076,21.076,0,0,0,3,14.973,1.764,1.764,0,0,0,3.435,16.065Z" transform="translate(0 0)" fill="#2f2f2f" fill-rule="evenodd" />
                                    </g>
                                </svg>
                                Job title
                            </p>
                            <p class="p-0 m-0 ">@Model.JobTitle</p>
                        </div>


                        <div class="left-side-box left-lable">
                            <p class="p-0 m-0  d-flex align-items-center justify-content-center gap-2">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="11.401" viewBox="0 0 16 11.401">
                                    <g id="email" transform="translate(-2.08 -10.68)">
                                        <path id="Path_40751" data-name="Path 40751" d="M15.807,22.081H4.353A2.275,2.275,0,0,1,2.08,19.808V12.953A2.275,2.275,0,0,1,4.353,10.68H15.807a2.275,2.275,0,0,1,2.273,2.273v6.856A2.275,2.275,0,0,1,15.807,22.081ZM4.353,11.482a1.471,1.471,0,0,0-1.471,1.471v6.856a1.471,1.471,0,0,0,1.471,1.471H15.807a1.471,1.471,0,0,0,1.471-1.471V12.953a1.471,1.471,0,0,0-1.471-1.471Z" transform="translate(0 0)" fill="#2f2f2f" />
                                        <path id="Path_40752" data-name="Path 40752" d="M10.667,21.891A2.275,2.275,0,0,1,9.3,21.433L3.052,16.712a.4.4,0,1,1,.484-.639L9.78,20.8a1.484,1.484,0,0,0,1.775,0L17.8,16.073a.4.4,0,1,1,.484.639l-6.243,4.722a2.275,2.275,0,0,1-1.372.457Z" transform="translate(-0.587 -3.884)" fill="#2f2f2f" />
                                        <path id="Path_40753" data-name="Path 40753" d="M3.069,34.919a.4.4,0,0,1-.267-.7l4.92-4.388a.4.4,0,1,1,.535.6l-4.92,4.388a.39.39,0,0,1-.267.1Zm14.882,0a.39.39,0,0,1-.267-.1l-4.92-4.388a.4.4,0,1,1,.535-.6l4.917,4.388a.4.4,0,0,1-.267.7Z" transform="translate(-0.431 -13.955)" fill="#2f2f2f" />
                                    </g>
                                </svg>
                                Email
                            </p>
                            <p class="p-0 m-0 edit-data ">@Model.EmailAddress</p>
                        </div>


                        <div class="left-side-box left-lable">
                            <p class="p-0 m-0  d-flex align-items-center justify-content-center gap-2">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
                                    <path id="phone_7_" data-name="phone (7)" d="M19.03,14.7,17.6,13.269a2.287,2.287,0,0,0-3.207-.014,1.4,1.4,0,0,1-1.772.173,9.758,9.758,0,0,1-2.689-2.684,1.416,1.416,0,0,1,.184-1.779,2.287,2.287,0,0,0-.02-3.2L8.669,4.341a2.282,2.282,0,0,0-3.222,0l-.411.412C2.893,6.9,3.054,11.4,7.513,15.857c2.688,2.689,5.395,3.815,7.589,3.815a4.87,4.87,0,0,0,3.518-1.338l.412-.412A2.281,2.281,0,0,0,19.03,14.7ZM18.112,17l-.412.412C16.012,19.1,12.285,18.8,8.43,14.939S4.265,7.354,5.953,5.665l.408-.411a.981.981,0,0,1,1.385,0L9.176,6.683a.981.981,0,0,1,.014,1.37,2.715,2.715,0,0,0-.345,3.4,11.046,11.046,0,0,0,3.061,3.056,2.714,2.714,0,0,0,3.4-.336.982.982,0,0,1,1.375.008l1.429,1.429A.981.981,0,0,1,18.112,17Z" transform="translate(-3.698 -3.675)" fill="#2f2f2f" />
                                </svg>
                                Phone
                            </p>
                            <p class="p-0 m-0  ">@Model.PhoneNumber</p>
                        </div>

                        <div class="left-side-box left-lable">
                            <p class="p-0 m-0  d-flex align-items-center justify-content-center gap-2">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="15.249" viewBox="0 0 16 15.249">
                                    <path id="user_2_" data-name="user (2)" d="M24.377,26.563a4.282,4.282,0,1,0-4.27-4.293A4.27,4.27,0,0,0,24.377,26.563Zm0-7.437a3.144,3.144,0,1,1-3.144,3.167A3.144,3.144,0,0,1,24.377,19.126ZM16.963,33.249H31.837a.571.571,0,0,0,.563-.563,5.387,5.387,0,0,0-5.372-5.372H21.772A5.387,5.387,0,0,0,16.4,32.686.571.571,0,0,0,16.963,33.249Zm4.809-4.809h5.255a4.231,4.231,0,0,1,4.2,3.683H17.573A4.231,4.231,0,0,1,21.772,28.44Z" transform="translate(-16.4 -18)" fill="#2f2f2f" />
                                </svg>
                                ID
                            </p>
                            <p class="p-0 m-0  ">@Model.IdNumber</p>
                        </div>

                    </div>

                </div>
            </div>

            @*Right Side*@
            <div class="col-lg-9 col-12 right-side">

                <div class="dashboard-section-container">

                    @*TOP*@

                    <div class="visitorsHistory d-flex align-items-baseline justify-content-center justify-content-lg-between  mb-4">
                        <p class="p-0 m-0 fw-bold d-none d-lg-block">Visits history</p>

                        <div class="d-flex gap-2 search-bar-container">
                            <!-- DataTable Search -->
                            <div class="search-bar">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="19.999" viewBox="0 0 20 19.999">
                                    <g id="search" opacity="0.5">
                                        <path id="Path_9" data-name="Path 9" d="M9.166,18.332a9.166,9.166,0,1,1,9.166-9.166A9.177,9.177,0,0,1,9.166,18.332Zm0-16.666a7.5,7.5,0,1,0,7.5,7.5A7.508,7.508,0,0,0,9.166,1.667Z" fill="#2f2f2f" />
                                        <path id="Path_10" data-name="Path 10" d="M22.034,22.867a.831.831,0,0,1-.589-.244l-4-4a.833.833,0,0,1,1.179-1.178l3.995,4a.832.832,0,0,1-.589,1.422Z" transform="translate(-2.868 -2.868)" fill="#2f2f2f" />
                                    </g>
                                </svg>
                                <input type="text" placeholder="Search..." />
                            </div>
                        </div>

                    </div>

                    @*Data table*@
                    <table id="visitorsHistoryTable" class="table table-striped table-bordered">
                        <thead>
                            <tr>
                                <th>Visit</th>
                                <th>Visitors</th>
                                <th>Purpose </th>
                                <th>Date</th>
                                <th>Time</th>
                                <th>Location</th>
                                <th>Status</th>
                                <th>Approved / Rejected by</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (VisitingMemberWithRelatedRequestVM req in ViewBag.RelatedVisitRequests)
                            {
                                <tr>
                                    <td>@req.Serial</td>
                                    <td>@req.VisitorsCount</td>
                                    <td>@req.Purpose</td>
                                    <td>@req.Date</td>
                                    <td>@req.Time</td>
                                    <td>@req.Location</td>
                                    <td>@req.Status</td>
                                    <td>@req.ApprovedBy</td>
                                </tr>
                            }
                        </tbody>
                    </table>

                </div>


            </div>


        </div>

    </div>
</div>

@*Scripts*@

@section Scripts {
    <script>
        const list_Item = document.querySelector(".sidebar-menu .VisitorsHub")
        list_Item.classList.add('active-sidebar-menu');
    </script>

    <script src="~/Content/VisitorsHub/VisitorDetails/VisitorDetails.js"></script>
}